# 会员优惠券模块架构 · LILISHOP-开发者中心
会员优惠券模块架构[](#会员优惠券模块架构)
-----------------------

#### 类关系图[](#类关系图)

![](https://docs.pickmall.cn/architecture/images/coupon-class.png)

##### 类图说明[](#类图说明)

> 1.  CouponBuyerController 优惠券入口，可以获取优惠券、查看详情、领取优惠券等等操作
> 2.  CouponService 负责生成优惠券模版，包含优惠券的各个条件等等
> 3.  MemberCouponService 负责领取优惠券，实际上真正生成优惠券的地方，领取优惠券后可以在会员中心查看到对应优惠券

##### 补充说明[](#补充说明)

> 系统架构中的优惠券有两个实体：
> 
> 1.  Coupon，用于优惠券对象的存储，例如平台发布的优惠券、店铺发布的优惠券，包含使用限制，折扣金额等等属性
> 2.  MemberCoupon，会员优惠券，系统发放或者用户领取优惠券后生成的实体
> 
> 优惠券的使用
> 
> 1.  优惠券过期，即已过期
> 2.  下单使用优惠券（会在订单付款前，和下单动作同步的消费掉优惠券对象，防止优惠券多次使用）
> 
> 优惠券返还
> 
> 1.  目前如果取消订单，则优惠券不会返还。